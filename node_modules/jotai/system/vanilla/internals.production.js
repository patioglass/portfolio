System.register([],(function(D){"use strict";return{execute:(function(){D({INTERNAL_abortPromise:H,INTERNAL_addPendingPromiseToDependency:O,INTERNAL_buildStoreRev2:dn,INTERNAL_getBuildingBlocksRev2:un,INTERNAL_getMountedOrPendingDependents:j,INTERNAL_hasInitialValue:M,INTERNAL_initializeStoreHooksRev2:G,INTERNAL_isActuallyWritableAtom:z,INTERNAL_isAtomStateInitialized:W,INTERNAL_isPendingPromise:P,INTERNAL_isPromiseLike:I,INTERNAL_registerAbortHandler:V,INTERNAL_returnAtomValue:m});function M(n){return"init"in n}function z(n){return!!n.write}function W(n){return"v"in n||"e"in n}function m(n){if("e"in n)throw n.e;return n.v}const L=D("INTERNAL_promiseStateMap",new WeakMap);function P(n){var e;return I(n)&&!!((e=L.get(n))!=null&&e[0])}function H(n){const e=L.get(n);e!=null&&e[0]&&(e[0]=!1,e[1].forEach(r=>r()))}function V(n,e){let r=L.get(n);if(!r){r=[!0,new Set],L.set(n,r);const t=()=>{r[0]=!1};n.then(t,t)}r[1].add(e)}function I(n){return typeof(n==null?void 0:n.then)=="function"}function O(n,e,r){if(!r.p.has(n)){r.p.add(n);const t=()=>r.p.delete(n);e.then(t,t)}}function j(n,e,r){var t;const o=new Set;for(const l of((t=r.get(n))==null?void 0:t.t)||[])o.add(l);for(const l of e.p)o.add(l);return o}const F=()=>{const n=new Set,e=()=>n.forEach(r=>r());return e.add=r=>(n.add(r),()=>n.delete(r)),e},k=()=>{const n={},e=new WeakMap,r=t=>{var o,l;(o=e.get(n))==null||o.forEach(s=>s(t)),(l=e.get(t))==null||l.forEach(s=>s())};return r.add=(t,o)=>{const l=t||n;let s=e.get(l);return s||(s=new Set,e.set(l,s)),s.add(o),()=>{s.delete(o),s.size||e.delete(l)}},r};function G(n){return n.i||(n.i=k()),n.r||(n.r=k()),n.c||(n.c=k()),n.m||(n.m=k()),n.u||(n.u=k()),n.f||(n.f=F()),n}const J=(n,e,...r)=>e.read(...r),K=(n,e,...r)=>e.write(...r),Q=(n,e)=>{if(e.INTERNAL_onInit)return e.INTERNAL_onInit(n)},U=(n,e,r)=>{var t;return(t=e.onMount)==null?void 0:t.call(e,r)},X=(n,e)=>{var r;const t=N(n),o=t[0],l=t[6],s=t[9];let u=o.get(e);return u||(u={d:new Map,p:new Set,n:0},o.set(e,u),(r=l.i)==null||r.call(l,e),s==null||s(n,e)),u},Y=n=>{const e=N(n),r=e[1],t=e[3],o=e[4],l=e[5],s=e[6],u=e[13],f=[],p=h=>{try{h()}catch(i){f.push(i)}};do{s.f&&p(s.f);const h=new Set,i=h.add.bind(h);t.forEach(c=>{var a;return(a=r.get(c))==null?void 0:a.l.forEach(i)}),t.clear(),l.forEach(i),l.clear(),o.forEach(i),o.clear(),h.forEach(p),t.size&&u(n)}while(t.size||l.size||o.size);if(f.length)throw new AggregateError(f)},Z=n=>{const e=N(n),r=e[1],t=e[2],o=e[3],l=e[11],s=e[14],u=e[17],f=[],p=new WeakSet,h=new WeakSet,i=Array.from(o);for(;i.length;){const c=i[i.length-1],a=l(n,c);if(h.has(c)){i.pop();continue}if(p.has(c)){t.get(c)===a.n&&f.push([c,a]),h.add(c),i.pop();continue}p.add(c);for(const v of j(c,a,r))p.has(v)||i.push(v)}for(let c=f.length-1;c>=0;--c){const[a,v]=f[c];let A=!1;for(const y of v.d.keys())if(y!==a&&o.has(y)){A=!0;break}A&&(s(n,a),u(n,a)),t.delete(a)}},$=(n,e)=>{var r,t;const o=N(n),l=o[1],s=o[2],u=o[3],f=o[6],p=o[7],h=o[11],i=o[12],c=o[13],a=o[14],v=o[16],A=o[17],y=o[20],d=h(n,e);if(W(d)){if(l.has(e)&&s.get(e)!==d.n)return d;let w=!1;for(const[_,b]of d.d)if(a(n,_).n!==b){w=!0;break}if(!w)return d}d.d.clear();let g=!0;function E(){l.has(e)&&(A(n,e),c(n),i(n))}function T(w){var _;if(w===e){const x=h(n,w);if(!W(x))if(M(w))y(n,w,w.init);else throw new Error("no atom init");return m(x)}const b=a(n,w);try{return m(b)}finally{d.d.set(w,b.n),P(d.v)&&O(e,d.v,b),l.has(e)&&((_=l.get(w))==null||_.t.add(e)),g||E()}}let S,R;const B={get signal(){return S||(S=new AbortController),S.signal},get setSelf(){return!R&&z(e)&&(R=(...w)=>{if(!g)try{return v(n,e,...w)}finally{c(n),i(n)}}),R}},q=d.n;try{const w=p(n,e,T,B);return y(n,e,w),I(w)&&(V(w,()=>S==null?void 0:S.abort()),w.then(E,E)),(r=f.r)==null||r.call(f,e),d}catch(w){return delete d.v,d.e=w,++d.n,d}finally{g=!1,q!==d.n&&s.get(e)===q&&(s.set(e,d.n),u.add(e),(t=f.c)==null||t.call(f,e))}},nn=(n,e)=>{const r=N(n),t=r[1],o=r[2],l=r[11],s=[e];for(;s.length;){const u=s.pop(),f=l(n,u);for(const p of j(u,f,t)){const h=l(n,p);o.set(p,h.n),s.push(p)}}},en=(n,e,...r)=>{const t=N(n),o=t[3],l=t[6],s=t[8],u=t[11],f=t[12],p=t[13],h=t[14],i=t[15],c=t[16],a=t[17],v=t[20];let A=!0;const y=g=>m(h(n,g)),d=(g,...E)=>{var T;const S=u(n,g);try{if(g===e){if(!M(g))throw new Error("atom not writable");const R=S.n,B=E[0];v(n,g,B),a(n,g),R!==S.n&&(o.add(g),i(n,g),(T=l.c)==null||T.call(l,g));return}else return c(n,g,...E)}finally{A||(p(n),f(n))}};try{return s(n,e,y,d,...r)}finally{A=!1}},tn=(n,e)=>{var r;const t=N(n),o=t[1],l=t[3],s=t[6],u=t[11],f=t[15],p=t[18],h=t[19],i=u(n,e),c=o.get(e);if(c&&!P(i.v)){for(const[a,v]of i.d)if(!c.d.has(a)){const A=u(n,a);p(n,a).t.add(e),c.d.add(a),v!==A.n&&(l.add(a),f(n,a),(r=s.c)==null||r.call(s,a))}for(const a of c.d)if(!i.d.has(a)){c.d.delete(a);const v=h(n,a);v==null||v.t.delete(e)}}},rn=(n,e)=>{var r;const t=N(n),o=t[1],l=t[4],s=t[6],u=t[10],f=t[11],p=t[12],h=t[13],i=t[14],c=t[16],a=t[18],v=f(n,e);let A=o.get(e);if(!A){i(n,e);for(const y of v.d.keys())a(n,y).t.add(e);if(A={l:new Set,d:new Set(v.d.keys()),t:new Set},o.set(e,A),z(e)){const y=()=>{let d=!0;const g=(...E)=>{try{return c(n,e,...E)}finally{d||(h(n),p(n))}};try{const E=u(n,e,g);E&&(A.u=()=>{d=!0;try{E()}finally{d=!1}})}finally{d=!1}};l.add(y)}(r=s.m)==null||r.call(s,e)}return A},on=(n,e)=>{var r,t;const o=N(n),l=o[1],s=o[5],u=o[6],f=o[11],p=o[19],h=f(n,e);let i=l.get(e);if(!i||i.l.size)return i;let c=!1;for(const a of i.t)if((r=l.get(a))!=null&&r.d.has(e)){c=!0;break}if(!c){i.u&&s.add(i.u),i=void 0,l.delete(e);for(const a of h.d.keys()){const v=p(n,a);v==null||v.t.delete(e)}(t=u.u)==null||t.call(u,e);return}return i},ln=(n,e,r)=>{const t=N(n)[11],o=t(n,e),l="v"in o,s=o.v;if(I(r))for(const u of o.d.keys())O(e,r,t(n,u));o.v=r,delete o.e,(!l||!Object.is(s,o.v))&&(++o.n,I(s)&&H(s))},sn=(n,e)=>{const r=N(n)[14];return m(r(n,e))},an=(n,e,...r)=>{const t=N(n),o=t[12],l=t[13],s=t[16];try{return s(n,e,...r)}finally{l(n),o(n)}},cn=(n,e,r)=>{const t=N(n),o=t[12],l=t[18],s=t[19],u=l(n,e).l;return u.add(r),o(n),()=>{u.delete(r),s(n,e),o(n)}},C=new WeakMap,N=n=>C.get(n);function un(n){const e=N(n),r=e[24];return r?r(e):e}function dn(...n){const e={get(t){const o=N(e)[21];return o(e,t)},set(t,...o){const l=N(e)[22];return l(e,t,...o)},sub(t,o){const l=N(e)[23];return l(e,t,o)}},r=[new WeakMap,new WeakMap,new WeakMap,new Set,new Set,new Set,{},J,K,Q,U,X,Y,Z,$,nn,en,tn,rn,on,ln,sn,an,cn,void 0].map((t,o)=>n[o]||t);return C.set(e,Object.freeze(r)),e}})}}));
